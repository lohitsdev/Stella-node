<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stella Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-star"></i> Stella Admin Dashboard</h1>
                <div class="header-actions">
                    <button id="refresh-btn" class="btn btn-secondary">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button id="logout-btn" class="btn btn-outline">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </header>

        <!-- Login Modal -->
        <div id="login-modal" class="modal active">
            <div class="modal-content">
                <h2><i class="fas fa-lock"></i> Admin Login</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <div style="margin-top: 1rem; padding: 0.75rem; background-color: #f0f9ff; border-radius: 4px; border-left: 3px solid #3b82f6; font-size: 0.875rem;">
                        <strong>ðŸ’¡ Quick Access:</strong> Use <code>admin@stella.com</code> / <code>admin</code> for fallback authentication
                    </div>
                </form>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Navigation -->
            <nav class="sidebar">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#dashboard" class="nav-link active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#environment" class="nav-link" data-section="environment">
                            <i class="fas fa-cog"></i> Environment
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#analytics" class="nav-link" data-section="analytics">
                            <i class="fas fa-chart-bar"></i> Analytics
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#services" class="nav-link" data-section="services">
                            <i class="fas fa-server"></i> Services
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#logs" class="nav-link" data-section="logs">
                            <i class="fas fa-file-alt"></i> Logs
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#users" class="nav-link" data-section="users">
                            <i class="fas fa-users"></i> Users
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#ai-usage" class="nav-link" data-section="ai-usage">
                            <i class="fas fa-robot"></i> AI Usage
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#database" class="nav-link" data-section="database">
                            <i class="fas fa-database"></i> Database
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#performance" class="nav-link" data-section="performance">
                            <i class="fas fa-tachometer-alt"></i> Performance
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#security" class="nav-link" data-section="security">
                            <i class="fas fa-shield-alt"></i> Security
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Content Area -->
            <div class="content">
                <!-- Dashboard Section -->
                <section id="dashboard-section" class="section active">
                    <h2>System Overview</h2>
                    
                    <!-- Status Cards -->
                    <div class="cards-grid">
                        <div class="card status-card">
                            <div class="card-header">
                                <h3><i class="fas fa-heartbeat"></i> System Health</h3>
                            </div>
                            <div class="card-body">
                                <div id="system-status" class="status-indicator">
                                    <span class="status-dot loading"></span>
                                    <span>Loading...</span>
                                </div>
                            </div>
                        </div>

                        <div class="card metrics-card">
                            <div class="card-header">
                                <h3><i class="fas fa-microchip"></i> Performance</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">CPU Usage</span>
                                        <span id="cpu-usage" class="metric-value">--%</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Memory</span>
                                        <span id="memory-usage" class="metric-value">--%</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Uptime</span>
                                        <span id="uptime" class="metric-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card analytics-card">
                            <div class="card-header">
                                <h3><i class="fas fa-chart-line"></i> Request Analytics</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">Total Requests</span>
                                        <span id="total-requests" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Requests/Hour</span>
                                        <span id="requests-per-hour" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Error Rate</span>
                                        <span id="error-rate" class="metric-value">--%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-clock"></i> Recent Activity</h3>
                        </div>
                        <div class="card-body">
                            <div id="recent-logs" class="logs-container">
                                Loading recent activity...
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Environment Section -->
                <section id="environment-section" class="section">
                    <div class="section-header">
                        <h2>Environment Variables</h2>
                        <div class="section-actions">
                            <button id="save-env-btn" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Changes
                            </button>
                            <button id="restart-app-btn" class="btn btn-warning">
                                <i class="fas fa-redo"></i> Restart App
                            </button>
                        </div>
                    </div>

                    <div class="env-categories">
                        <div class="category-tabs">
                            <button class="tab-btn active" data-category="all">All</button>
                            <button class="tab-btn" data-category="database">Database</button>
                            <button class="tab-btn" data-category="api">API Keys</button>
                            <button class="tab-btn" data-category="app">Application</button>
                            <button class="tab-btn" data-category="security">Security</button>
                        </div>

                        <div id="env-variables" class="env-list">
                            Loading environment variables...
                        </div>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section id="analytics-section" class="section">
                    <h2>Analytics & Monitoring</h2>
                    
                    <div class="analytics-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-chart-bar"></i> API Usage</h3>
                            </div>
                            <div class="card-body">
                                <div id="api-usage-chart" class="chart-container">
                                    <canvas id="usageChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-list"></i> Top Endpoints</h3>
                            </div>
                            <div class="card-body">
                                <div id="top-endpoints" class="endpoints-list">
                                    Loading endpoint statistics...
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-exclamation-triangle"></i> Recent Errors</h3>
                            </div>
                            <div class="card-body">
                                <div id="recent-errors" class="errors-list">
                                    Loading error logs...
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Services Section -->
                <section id="services-section" class="section">
                    <h2>Service Status</h2>
                    
                    <div id="services-grid" class="services-grid">
                        Loading service status...
                    </div>
                </section>

                <!-- Logs Section -->
                <section id="logs-section" class="section">
                    <div class="section-header">
                        <h2>System Logs</h2>
                        <div class="section-actions">
                            <select id="log-level-filter" class="select">
                                <option value="all">All Levels</option>
                                <option value="error">Errors</option>
                                <option value="warn">Warnings</option>
                                <option value="info">Info</option>
                                <option value="debug">Debug</option>
                            </select>
                            <button id="clear-logs-btn" class="btn btn-outline">
                                <i class="fas fa-trash"></i> Clear
                            </button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div id="logs-container" class="logs-container full-logs">
                                Loading system logs...
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Users Section -->
                <section id="users-section" class="section">
                    <div class="section-header">
                        <h2>User Management</h2>
                        <div class="section-actions">
                            <select id="user-role-filter" class="select">
                                <option value="">All Roles</option>
                                <option value="admin">Admin</option>
                                <option value="user">User</option>
                                <option value="moderator">Moderator</option>
                            </select>
                            <select id="user-status-filter" class="select">
                                <option value="">All Status</option>
                                <option value="verified">Verified</option>
                                <option value="pending">Pending</option>
                                <option value="suspended">Suspended</option>
                                <option value="blocked">Blocked</option>
                            </select>
                            <input type="text" id="user-search" placeholder="Search users..." class="search-input">
                        </div>
                    </div>

                    <!-- User Statistics -->
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-users"></i> User Statistics</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">Total Users</span>
                                        <span id="total-users-count" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Active Users</span>
                                        <span id="active-users-count" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">New Today</span>
                                        <span id="new-users-today" class="metric-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Users Table -->
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-table"></i> Users</h3>
                        </div>
                        <div class="card-body">
                            <div id="users-table" class="table-container">
                                Loading users...
                            </div>
                            <div id="users-pagination" class="pagination">
                                <!-- Pagination will be inserted here -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- AI Usage Section -->
                <section id="ai-usage-section" class="section">
                    <h2>AI Service Usage</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-brain"></i> OpenAI</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">Total Tokens</span>
                                        <span id="openai-tokens" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Total Cost</span>
                                        <span id="openai-cost" class="metric-value">$--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Requests Today</span>
                                        <span id="openai-requests-today" class="metric-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-heart"></i> Hume AI</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">Total Calls</span>
                                        <span id="hume-calls" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Events Processed</span>
                                        <span id="hume-events" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Calls Today</span>
                                        <span id="hume-calls-today" class="metric-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-search"></i> Pinecone</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">Total Queries</span>
                                        <span id="pinecone-queries" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Avg Latency</span>
                                        <span id="pinecone-latency" class="metric-value">--ms</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Queries Today</span>
                                        <span id="pinecone-queries-today" class="metric-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Database Section -->
                <section id="database-section" class="section">
                    <h2>Database Statistics</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-database"></i> Overview</h3>
                            </div>
                            <div class="card-body">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <span class="metric-label">Total Documents</span>
                                        <span id="total-documents" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Total Size</span>
                                        <span id="database-size" class="metric-value">--</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Collections</span>
                                        <span id="collections-count" class="metric-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-table"></i> Collections</h3>
                        </div>
                        <div class="card-body">
                            <div id="collections-table" class="table-container">
                                Loading collection statistics...
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Performance Section -->
                <section id="performance-section" class="section">
                    <h2>Performance Monitoring</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-chart-line"></i> Response Times</h3>
                            </div>
                            <div class="card-body">
                                <div id="performance-chart" class="chart-container">
                                    <canvas id="performanceChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-list-ol"></i> Top Endpoints</h3>
                            </div>
                            <div class="card-body">
                                <div id="performance-endpoints" class="endpoints-list">
                                    Loading endpoint performance...
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Security Section -->
                <section id="security-section" class="section">
                    <h2>Security Monitoring</h2>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-shield-alt"></i> Security Events</h3>
                        </div>
                        <div class="card-body">
                            <div id="security-events" class="logs-container">
                                Loading security events...
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>